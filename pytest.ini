[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts = 
    -v
    --strict-markers
    --cov=src
    --cov-report=term-missing
    --cov-report=html
    --cov-fail-under=80
markers =
    slow: marks tests as slow
    integration: marks tests as integration tests (skip coverage for integration-only runs)
    asyncio: marks tests as async tests

# Async support
asyncio_mode = auto

[tool:pytest]
# When running only integration tests, coverage is not required
# Use: pytest -m integration --no-cov

# Environment Variables:
# USE_REAL_AI=true - Use real Google Gemini AI calls (slow, requires API key)
# USE_REAL_AI=false (default) - Mock AI calls for fast testing
# 
# Examples:
#   pytest                          # Fast tests with mocked AI
#   USE_REAL_AI=true pytest         # Slow tests with real AI
#   $env:USE_REAL_AI="true"; pytest # Windows PowerShell

